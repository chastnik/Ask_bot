# ü§ñ Ask Bot - –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è Jira (–ë–ò–¢.–¶–∏—Ñ—Ä–∞)

[![Python 3.8+](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.108+-green.svg)](https://fastapi.tiangolo.com/)
[![Docker](https://img.shields.io/badge/docker-ready-blue.svg)](https://www.docker.com/)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)

**Ask Bot** ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —á–∞—Ç-–±–æ—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Jira —á–µ—Ä–µ–∑ Mattermost, –æ—Å–Ω–∞—â–µ–Ω–Ω—ã–π –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö. –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏, –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–æ–≤.

## üéØ –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üöÄ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Jira**: –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∑–∞–¥–∞—á–∞–º, –ø—Ä–æ–µ–∫—Ç–∞–º –∏ –æ—Ç—á–µ—Ç–∞–º
- ü§ñ **–ò–ò-–ø–æ–º–æ—â–Ω–∏–∫**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ —á–µ—Ä–µ–∑ LLM
- üìä **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∏ –¥–∏–∞–≥—Ä–∞–º–º —Å Plotly
- üí¨ **–õ–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è**: –†–∞–±–æ—Ç–∞ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ —á–∞—Ç—ã –≤ Mattermost
- ‚ö° **WebSocket**: –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- üóÑÔ∏è **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞ —Å Redis –¥–ª—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- üîê **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π –∏ —Ç–æ–∫–µ–Ω–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üê≥ **Docker**: –ü—Ä–æ—Å—Ç–æ–µ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- üìà **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: Health checks –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

Ask Bot –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º FastAPI –∏ WebSocket –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏.

```mermaid
graph TB
    subgraph "–í–Ω–µ—à–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã"
        MM[Mattermost Server]
        JIRA[Jira Server]
        LLM[LLM Server<br/>Ollama/OpenAI]
    end
    
    subgraph "Ask Bot Application"
        WS[WebSocket Client]
        API[FastAPI Server]
        MP[Message Processor]
        
        subgraph "–°–µ—Ä–≤–∏—Å—ã"
            MS[Mattermost Service]
            JS[Jira Service]
            LS[LLM Service]
            CS[Chart Service]
            CACHE[Cache Service]
        end
        
        subgraph "–•—Ä–∞–Ω–∏–ª–∏—â–µ"
            DB[(SQLite Database)]
            REDIS[(Redis Cache)]
            FILES[Chart Files]
        end
    end
    
    MM -.->|WebSocket| WS
    WS --> MP
    MP --> MS
    MP --> JS
    MP --> LS
    MP --> CS
    MS -.-> MM
    JS -.-> JIRA
    LS -.-> LLM
    CACHE --> REDIS
    API --> DB
    CS --> FILES
    
    style MM fill:#e1f5fe
    style JIRA fill:#fff3e0
    style LLM fill:#f3e5f5
    style WS fill:#e8f5e8
    style API fill:#fff9c4
    style MP fill:#ffebee
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **FastAPI Server** - HTTP API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- **WebSocket Client** - –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å Mattermost
- **Message Processor** - –Ø–¥—Ä–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- **Service Layer** - –ú–æ–¥—É–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
- **Cache Layer** - Redis –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **Storage Layer** - SQLite –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```mermaid
graph LR
    subgraph "–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å"
        HTTP[HTTP API<br/>FastAPI]
        DOCS[Swagger Docs<br/>/docs]
        HEALTH[Health Check<br/>/health]
    end
    
    subgraph "–û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã"
        MP[Message Processor<br/>–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥]
        WS[WebSocket Client<br/>–°–≤—è–∑—å —Å Mattermost]
        AUTH[Auth Manager<br/>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏]
    end
    
    subgraph "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"
        MM_SVC[Mattermost Service<br/>API –∫–ª–∏–µ–Ω—Ç]
        JIRA_SVC[Jira Service<br/>API –∫–ª–∏–µ–Ω—Ç]
        LLM_SVC[LLM Service<br/>–ò–ò –æ–±—Ä–∞–±–æ—Ç–∫–∞]
    end
    
    subgraph "–£—Ç–∏–ª–∏—Ç—ã"
        CHART[Chart Service<br/>Plotly –≥—Ä–∞—Ñ–∏–∫–∏]
        CACHE[Cache Service<br/>Redis –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ]
        DB[Database<br/>SQLite —Ö—Ä–∞–Ω–∏–ª–∏—â–µ]
    end
    
    HTTP --> MP
    WS --> MP
    MP --> AUTH
    MP --> MM_SVC
    MP --> JIRA_SVC
    MP --> LLM_SVC
    MP --> CHART
    MP --> CACHE
    AUTH --> DB
    CACHE --> DB
    
    style HTTP fill:#4CAF50
    style MP fill:#2196F3
    style WS fill:#FF9800
    style AUTH fill:#9C27B0
```

### –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö

```mermaid
sequenceDiagram
    participant User as –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    participant MM as Mattermost
    participant WS as WebSocket Client
    participant MP as Message Processor
    participant AUTH as Auth Service
    participant JIRA as Jira Service
    participant LLM as LLM Service
    participant CHART as Chart Service
    participant CACHE as Cache
    
    User->>MM: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É
    MM->>WS: WebSocket —Å–æ–±—ã—Ç–∏–µ
    WS->>MP: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
    
    alt –ö–æ–º–∞–Ω–¥–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        MP->>AUTH: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
        AUTH->>MP: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
    else –û–±—ã—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        MP->>CACHE: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–µ—à
        alt –î–∞–Ω–Ω—ã–µ –≤ –∫–µ—à–µ
            CACHE->>MP: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
        else –î–∞–Ω–Ω—ã—Ö –Ω–µ—Ç
            MP->>JIRA: –ó–∞–ø—Ä–æ—Å –∫ Jira API
            JIRA->>MP: –î–∞–Ω–Ω—ã–µ Jira
            MP->>CACHE: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –∫–µ—à
        end
        
        MP->>LLM: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —á–µ—Ä–µ–∑ –ò–ò
        LLM->>MP: –û—Ç–≤–µ—Ç –ò–ò
        
        alt –¢—Ä–µ–±—É–µ—Ç—Å—è –≥—Ä–∞—Ñ–∏–∫
            MP->>CHART: –°–æ–∑–¥–∞–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é
            CHART->>MP: HTML —Ñ–∞–π–ª –≥—Ä–∞—Ñ–∏–∫–∞
        end
    end
    
    MP->>MM: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç
    MM->>User: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç
```

**–û—Å–Ω–æ–≤–Ω—ã–µ —ç—Ç–∞–ø—ã:**
1. **–í—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è**: Mattermost ‚Üí WebSocket ‚Üí Message Processor
2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥**: Command Parser ‚Üí Service Handlers ‚Üí Response Generator
3. **Jira –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: Auth Manager ‚Üí Jira API ‚Üí Data Transformation
4. **–ò–ò –æ–±—Ä–∞–±–æ—Ç–∫–∞**: LLM Service ‚Üí Natural Language Processing ‚Üí Smart Responses
5. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**: Chart Service ‚Üí Plotly ‚Üí HTML Export ‚Üí File Delivery

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Python 3.8+** (—Å–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç –≤–µ—Ä—Å–∏—é)
- **Redis Server** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ Docker)
- **–î–æ—Å—Ç—É–ø –∫ Jira** (API Token –∏–ª–∏ –ø–∞—Ä–æ–ª—å)
- **–î–æ—Å—Ç—É–ø –∫ Mattermost** (Bot Token)
- **LLM —Å–µ—Ä–≤–µ—Ä** (Ollama, OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π API)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <repository-url>
cd Ask_bot

# –ó–∞–ø—É—Å–∫ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
./scripts/run.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç Python 3.8+
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç `.env` —Ñ–∞–π–ª –∏–∑ —à–∞–±–ª–æ–Ω–∞
- ‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–∞ –ø–æ—Ä—Ç—É 8000
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç –±–æ—Ç –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate  # Windows

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
python scripts/init_db.py

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
python -m uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

### Docker —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ

```mermaid
graph TB
    subgraph "Docker Compose Stack"
        subgraph "–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä nginx"
            NGINX[Nginx<br/>Reverse Proxy<br/>Port 80]
        end
        
        subgraph "–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä app"
            APP[Ask Bot<br/>FastAPI + WebSocket<br/>Port 8000]
            CHARTS[Charts Volume<br/>./charts]
            DB_FILE[Database<br/>askbot.db]
        end
        
        subgraph "–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä redis"
            REDIS[Redis Cache<br/>Port 6379]
            REDIS_DATA[Redis Data<br/>Persistent Volume]
        end
    end
    
    subgraph "–í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã"
        MM_EXT[Mattermost Server<br/>External]
        JIRA_EXT[Jira Server<br/>External]
        LLM_EXT[LLM Server<br/>Ollama/OpenAI]
    end
    
    NGINX --> APP
    APP --> REDIS
    APP -.->|WebSocket| MM_EXT
    APP -.->|REST API| JIRA_EXT
    APP -.->|HTTP/gRPC| LLM_EXT
    
    NGINX --> CHARTS
    APP --> DB_FILE
    REDIS --> REDIS_DATA
    
    style NGINX fill:#4CAF50
    style APP fill:#2196F3
    style REDIS fill:#FF5722
    style MM_EXT fill:#e1f5fe
    style JIRA_EXT fill:#fff3e0
    style LLM_EXT fill:#f3e5f5
```

```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª

# –ó–∞–ø—É—Å–∫ —Å Docker Compose
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (.env —Ñ–∞–π–ª)

```bash
# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
APP_MODE=development
APP_HOST=0.0.0.0
APP_PORT=8000
LOG_LEVEL=INFO

# Mattermost (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
MATTERMOST_URL=https://your-mattermost.com
MATTERMOST_TOKEN=your-bot-token
MATTERMOST_BOT_USERNAME=askbot
MATTERMOST_TEAM_ID=your-team-id

# Jira (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
JIRA_BASE_URL=https://your-jira.com

# LLM —Å–µ—Ä–≤–µ—Ä
LLM_PROXY_URL=http://localhost:11434  # Ollama
LLM_MODEL_NAME=llama2
LLM_TEMPERATURE=0.3
LLM_MAX_TOKENS=2048

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DATABASE_URL=sqlite:///./askbot.db

# Redis –∫–µ—à
REDIS_URL=redis://localhost:6379/0
CACHE_TTL=3600

# –ì—Ä–∞—Ñ–∏–∫–∏
CHARTS_DIR=./charts
CHARTS_TTL=86400
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Mattermost

1. **–°–æ–∑–¥–∞–π—Ç–µ Bot Account**:
   - –°–∏—Å—Ç–µ–º–Ω–∞—è –∫–æ–Ω—Å–æ–ª—å ‚Üí –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ‚Üí Bot Accounts
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞ —Å –∏–º–µ–Ω–µ–º `askbot`
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∞**:
   - –†–∞–∑—Ä–µ—à–∏—Ç–µ –±–æ—Ç–∞–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä—è–º—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
   - –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –Ω—É–∂–Ω—É—é –∫–æ–º–∞–Ω–¥—É

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Ollama (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ LLM)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ollama
curl -fsSL https://ollama.com/install.sh | sh

# –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏
ollama pull llama2

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
ollama serve
```

### –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ:

- üåê **API**: http://localhost:8000
- üìö **Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: http://localhost:8000/docs
- üíì **Health Check**: http://localhost:8000/health
- üîß **WebSocket —Å—Ç–∞—Ç—É—Å**: http://localhost:8000/websocket/status

## üí¨ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –Ω–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ `askbot` –≤ Mattermost –∏ –Ω–∞–ø–∏—à–∏—Ç–µ –µ–º—É –ª–∏—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:

#### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

- `–ø–æ–º–æ—â—å` / `help` - –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
- `—Å—Ç–∞—Ç—É—Å` / `status` - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Å–∏—Å—Ç–µ–º—ã
- `–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è [–ª–æ–≥–∏–Ω] [–ø–∞—Ä–æ–ª—å]` / `auth [login] [password]` - –í–æ–π—Ç–∏ –≤ Jira

#### –†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏

- `–ø—Ä–æ–µ–∫—Ç—ã` / `projects` - –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ Jira
- `–∑–∞–¥–∞—á–∏ [–ø—Ä–æ–µ–∫—Ç]` - –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞
- `—Å–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É` - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏

#### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã

- `–æ—Ç—á–µ—Ç –ø–æ –ø—Ä–æ–µ–∫—Ç—É [–∫–ª—é—á –ø—Ä–æ–µ–∫—Ç–∞]` - –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏
- `—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–ø—Ä–∏–Ω—Ç–∞` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–ø—Ä–∏–Ω—Ç–∞
- `–≥—Ä–∞—Ñ–∏–∫ burndown` - –ì—Ä–∞—Ñ–∏–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á

#### –ö–µ—à –∏ —Å–∏—Å—Ç–µ–º–∞

- `–∫–µ—à —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞` / `cache stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–µ—à–∞
- `–æ—á–∏—Å—Ç–∏—Ç—å –∫–µ—à` / `clear cache` - –û—á–∏—Å—Ç–∏—Ç—å –≤–µ—Å—å –∫–µ—à
- `–æ–±–Ω–æ–≤–∏—Ç—å` / `refresh` - –û–±–Ω–æ–≤–∏—Ç—å —Å–ª–æ–≤–∞—Ä–∏ –∏ –º–∞–ø–ø–∏–Ω–≥–∏

### –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

–ë–æ—Ç –ø–æ–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ:

```
"–ü–æ–∫–∞–∂–∏ –º–Ω–µ –≤—Å–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ –±–∞–≥–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ MYPROJ"
"–°–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á –∑–∞–∫—Ä—ã–ª –ò–≤–∞–Ω –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é?"
"–°–æ–∑–¥–∞–π –≥—Ä–∞—Ñ–∏–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º"
"–ù–∞–π–¥–∏ –≤—Å–µ –∑–∞–¥–∞—á–∏ —Å –º–µ—Ç–∫–æ–π 'urgent'"
```

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è

```mermaid
stateDiagram-v2
    [*] --> –ü–æ–ª—É—á–µ–Ω–∏–µ
    –ü–æ–ª—É—á–µ–Ω–∏–µ --> –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    
    –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è --> –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω
    –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è --> –ù–µ–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω: –ü–µ—Ä–≤—ã–π —Ä–∞–∑
    
    –ù–µ–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω --> –ö–æ–º–∞–Ω–¥–∞–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏: "auth" –∫–æ–º–∞–Ω–¥–∞
    –ù–µ–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω --> –û—Ç–∫–ª–æ–Ω–µ–Ω–æ: –î—Ä—É–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã
    –ö–æ–º–∞–Ω–¥–∞–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ --> –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω: –£—Å–ø–µ—à–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
    –ö–æ–º–∞–Ω–¥–∞–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ --> –û—Ç–∫–ª–æ–Ω–µ–Ω–æ: –ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    
    –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω --> –û–±—Ä–∞–±–æ—Ç–∫–∞–ö–æ–º–∞–Ω–¥—ã: –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
    –û–±—Ä–∞–±–æ—Ç–∫–∞–ö–æ–º–∞–Ω–¥—ã --> –ö–æ–º–∞–Ω–¥–∞: –°–∏—Å—Ç–µ–º–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞
    –û–±—Ä–∞–±–æ—Ç–∫–∞–ö–æ–º–∞–Ω–¥—ã --> –ó–∞–ø—Ä–æ—ÅJira: –ó–∞–ø—Ä–æ—Å –∫ Jira
    –û–±—Ä–∞–±–æ—Ç–∫–∞–ö–æ–º–∞–Ω–¥—ã --> –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π–Ø–∑—ã–∫: –°–≤–æ–±–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç
    
    –ö–æ–º–∞–Ω–¥–∞ --> –û—Ç–ø—Ä–∞–≤–∫–∞–û—Ç–≤–µ—Ç–∞: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
    
    –ó–∞–ø—Ä–æ—ÅJira --> –ö–µ—à: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–µ—à–∞
    –ö–µ—à --> –î–∞–Ω–Ω—ã–µ–ò–∑–ö–µ—à–∞: –ù–∞–π–¥–µ–Ω–æ –≤ –∫–µ—à–µ
    –ö–µ—à --> APIJira: –ù–µ—Ç –≤ –∫–µ—à–µ
    APIJira --> –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–í–ö–µ—à: –î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã
    –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–í–ö–µ—à --> –î–∞–Ω–Ω—ã–µ–ò–∑–ö–µ—à–∞
    –î–∞–Ω–Ω—ã–µ–ò–∑–ö–µ—à–∞ --> –û—Ç–ø—Ä–∞–≤–∫–∞–û—Ç–≤–µ—Ç–∞
    
    –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π–Ø–∑—ã–∫ --> LLM: –û–±—Ä–∞–±–æ—Ç–∫–∞ –ò–ò
    LLM --> –ì–µ–Ω–µ—Ä–∞—Ü–∏—èJQL: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞
    –ì–µ–Ω–µ—Ä–∞—Ü–∏—èJQL --> APIJira
    
    –û—Ç–ø—Ä–∞–≤–∫–∞–û—Ç–≤–µ—Ç–∞ --> –°–æ–∑–¥–∞–Ω–∏–µ–ì—Ä–∞—Ñ–∏–∫–∞: –ù—É–∂–Ω–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
    –û—Ç–ø—Ä–∞–≤–∫–∞–û—Ç–≤–µ—Ç–∞ --> –¢–µ–∫—Å—Ç–æ–≤—ã–π–û—Ç–≤–µ—Ç: –¢–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç
    
    –°–æ–∑–¥–∞–Ω–∏–µ–ì—Ä–∞—Ñ–∏–∫–∞ --> –û—Ç–ø—Ä–∞–≤–∫–∞–°–ì—Ä–∞—Ñ–∏–∫–æ–º: –ì—Ä–∞—Ñ–∏–∫ —Å–æ–∑–¥–∞–Ω
    –û—Ç–ø—Ä–∞–≤–∫–∞–°–ì—Ä–∞—Ñ–∏–∫–æ–º --> [*]
    –¢–µ–∫—Å—Ç–æ–≤—ã–π–û—Ç–≤–µ—Ç --> [*]
    –û—Ç–∫–ª–æ–Ω–µ–Ω–æ --> [*]
```

## üîß API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### REST API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ API –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8000`

- **Swagger UI**: `http://localhost:8000/docs`
- **ReDoc**: `http://localhost:8000/redoc`

#### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

```http
GET /                    # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–∏—Å–µ
GET /health             # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã
GET /websocket/status   # –°—Ç–∞—Ç—É—Å WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

GET /cache/stats        # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–µ—à–∞
POST /cache/clear       # –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞

POST /charts/cleanup    # –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤

GET /debug/test-llm     # –¢–µ—Å—Ç LLM –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
GET /debug/test-jira    # –¢–µ—Å—Ç Jira –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```

### WebSocket –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π WebSocket –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–≤—è–∑–∏ —Å Mattermost. –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è.

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### Health Check

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã
curl http://localhost:8000/health

# –û—Ç–≤–µ—Ç:
{
    "status": "healthy",
    "database": true,
    "redis": true,
    "mattermost": true,
    "jira": true,
    "llm": true,
    "websocket": true,
    "timestamp": "2024-01-15T12:00:00Z"
}
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `logs/`:
- `askbot.log` - –û—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –†–æ—Ç–∞—Ü–∏—è –∫–∞–∂–¥—ã–µ 10MB
- –•—Ä–∞–Ω–µ–Ω–∏–µ 7 –¥–Ω–µ–π

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ Docker

```bash
# –õ–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose logs -f

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
docker-compose top

# –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose ps
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
./run_tests.sh

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
python -m pytest tests/test_jira_service.py -v

# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
python -m pytest tests/integration/ -v
```

### –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

```bash
# –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î
python -c "
from examples.sample_data import load_sample_data
load_sample_data()
"
```

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Ask_bot/
‚îú‚îÄ‚îÄ app/                    # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ api/               # API —Ä–æ—É—Ç—ã –∏ webhook'–∏
‚îÇ   ‚îú‚îÄ‚îÄ models/            # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ services/          # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ utils/             # –£—Ç–∏–ª–∏—Ç—ã –∏ —Ö–µ–ª–ø–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ config.py          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ main.py            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ FastAPI
‚îú‚îÄ‚îÄ charts/                # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏
‚îú‚îÄ‚îÄ examples/              # –ü—Ä–∏–º–µ—Ä—ã –∏ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ logs/                  # –§–∞–π–ª—ã –ª–æ–≥–æ–≤
‚îú‚îÄ‚îÄ scripts/               # –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ docker-compose.yml     # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ requirements.txt       # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ .env                   # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```mermaid
erDiagram
    USERS ||--o{ USER_SESSIONS : has
    USERS ||--o{ QUERY_HISTORY : creates
    USERS ||--o{ CHART_CACHE : generates
    
    CLIENTS ||--o{ PROJECTS : owns
    PROJECTS ||--o{ QUERY_TEMPLATES : contains
    
    USERS {
        string id PK
        string username
        string email
        string display_name
        string jira_username
        string jira_password_encrypted
        string jira_token_encrypted
        string preferred_language
        string timezone
        datetime created_at
        datetime updated_at
        boolean is_active
    }
    
    USER_SESSIONS {
        int id PK
        string user_id FK
        string session_token
        datetime created_at
        datetime expires_at
        boolean is_active
    }
    
    CLIENTS {
        int id PK
        string name
        string jira_key
        string description
        datetime created_at
        datetime updated_at
        boolean is_active
    }
    
    PROJECTS {
        int id PK
        string name
        string jira_key
        string description
        int client_id FK
        datetime created_at
        datetime updated_at
        boolean is_active
    }
    
    QUERY_TEMPLATES {
        int id PK
        string name
        string description
        string template
        string category
        string chart_type
        int project_id FK
        datetime created_at
        datetime updated_at
        boolean is_active
    }
    
    QUERY_HISTORY {
        int id PK
        string user_id FK
        string query_text
        string jql_generated
        string response_data
        string chart_path
        datetime created_at
        float execution_time
    }
    
    CHART_CACHE {
        int id PK
        string user_id FK
        string cache_key
        string chart_path
        string chart_type
        datetime created_at
        datetime expires_at
    }
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥

1. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É** –≤ `message_processor.py`:
```python
async def _handle_my_command(self, user_id: str, message: str) -> str:
    # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞
    return "–û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é"
```

2. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É**:
```python
self.commands['–º–æ—è–∫–æ–º–∞–Ω–¥–∞'] = self._handle_my_command
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –≤ `app/services/`
2. –ù–∞—Å–ª–µ–¥—É–π—Ç–µ—Å—å –æ—Ç –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞
3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
4. –î–æ–±–∞–≤—å—Ç–µ –≤ `main.py` –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**WebSocket –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è**:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –∏ —Ç–æ–∫–µ–Ω –≤ .env
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –±–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ–º–∞–Ω–¥—É
curl -H "Authorization: Bearer $MATTERMOST_TOKEN" \
     $MATTERMOST_URL/api/v4/users/me
```

**LLM –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç**:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Ollama
curl http://localhost:11434/api/version

# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –º–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω–∞
ollama list
```

**Redis –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω**:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Redis
redis-cli ping

# –í Docker
docker-compose logs redis
```

### –û—Ç–ª–∞–¥–∫–∞

```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏
LOG_LEVEL=DEBUG python -m uvicorn app.main:app --reload

# –¢–µ—Å—Ç –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
python quick_test.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
python scripts/check-config.py
```

## üìù Changelog

### v1.0.0 (–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è)
- ‚úÖ WebSocket –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Mattermost
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ LLM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (Ollama/OpenAI)
- ‚úÖ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Å Plotly
- ‚úÖ Redis –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ Comprehensive API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- üîÑ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤
- üîÑ Webhook –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- üîÑ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- üîÑ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Confluence

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∫–ª–∞–¥ –≤ —Ä–∞–∑–≤–∏—Ç–∏–µ Ask Bot! 

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add some AmazingFeature'`)
4. Push –≤ branch (`git push origin feature/AmazingFeature`)
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. —Ñ–∞–π–ª `LICENSE` –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

## üë• –ö–æ–º–∞–Ω–¥–∞

- **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞** - –°—Ç–∞—Å –ß–∞—à–∏–Ω

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [FastAPI Documentation](https://fastapi.tiangolo.com/)
- [Mattermost API](https://api.mattermost.com/)
- [Jira REST API](https://developer.atlassian.com/server/jira/platform/rest-apis/)
- [Ollama Documentation](https://ollama.com/docs)
- [Docker Compose](https://docs.docker.com/compose/)

---

<div align="center">

**BIT.Digital Ask Bot** - –î–µ–ª–∞–µ–º —Ä–∞–±–æ—Ç—É —Å Jira –ø—Ä–æ—Å—Ç–æ–π –∏ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π! üöÄ

</div> 